<!doctype html>

<!--[if lt IE 7]> <html lang="en" class="no-js ie6"> <![endif]-->
<!--[if IE 7]>    <html lang="en" class="no-js ie7"> <![endif]-->
<!--[if IE 8]>    <html lang="en" class="no-js ie8"> <![endif]-->
<!--[if IE 9]>    <html lang="en" class="no-js ie9"> <![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--> <html lang="en" class="no-js"> <!--<![endif]-->
  <head>
    <meta charset="utf-8">

    <title>PlayList Manager for SoundCloud</title>
    <meta name="author" content="JuanMa Garrido <juanma.garrido@gmail.com>">

    <link href="http://importer.soundcloudlabs.com/stylesheets/labs.css" media="screen" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" href="css/main.css" media="screen, projection">

    <script src="js/libs/modernizr-1.6.min.js"></script>

    <script src="js/libs/json2.js"></script>
    <script src="js/libs/jquery-1.7.1.js"></script>
    <script src="js/libs/underscore-1.3.1.js"></script>
    <script src="js/libs/backbone-0.9.1.js"></script>
    <script src="js/libs/backbone-localStorage.js"></script>
    
    <script src="http://connect.soundcloud.com/sdk.js" type="text/JavaScript"></script>

    <script src="js/PlaylistsManager.js"></script>

    <style>

      .hidden { display:none; }
      div.pl_container  { margin:50px 0; }
        div.pl_container .title, fieldset.edit_playlist { position:relative; padding:0px 20px; border:1px solid #ccc; }
        div.pl_container .title h2 { color: #06C; font-size: 28px; } 
        div.pl_container .actions { position:absolute; right:10px; bottom:0px; list-style-type: none; }
        div.pl_container .actions li { margin-left:10px; display: inline; }
        div.pl_container ol.tracks { margin-bottom:30px; font-size:16px;}
        div.pl_container ol.tracks li { margin-bottom:5px; }
        div.pl_container ol.tracks li a { background: url("img/player-small-buttons.png") no-repeat -34px -5px; display: block; height: 22px; padding:3px 0 0 31px; }
        div.pl_container ol.tracks li a.playing { background-position:-34px -37px; }

        fieldset.edit_playlist { padding:20px;}
          fieldset.edit_playlist dl { margin:0; padding:0; }
          fieldset.edit_playlist dl dd { margin:0 0 10px; padding:0; }

        div.add_track a.see_form { margin:0 0 5px 15px; }
        div.add_track a.see_form:after { content: ' '; height: 0; position: absolute; width: 0; border: 5px solid transparent; border-top-color: #06C; margin:5px;}
        div.add_track div.add_track_container { display:none; }

        div.add_track.adding a.see_form:after { border-top: none; border-bottom-color: #06C; }
        div.add_track.adding div.add_track_container { display:block; }

        div.add_track_container { border:0; padding:20px 20px 40px; background:#F0F6FB; }
        div.add_track_container p.details { margin:10px 0; }

        div.details_song { margin:10px 0; }
        div.details_song p { margin:0; }

        div.details_song div.data_song { background:#FFF; overflow: hidden; width: 430px; margin: 10px 0; border: 1px solid #ccc; }
        div.details_song div.data_song a.play { float: left; background-image: url(img/player-large-buttons.png);background-position: -4px -4px; display: block; width: 85px; height: 100px; margin:13px 0 0 15px; text-indent:-999px;}
        div.details_song div.data_song a.play.playing { background-position: -4px -103px; }
        div.details_song div.data_song dl { float:right; overflow: hidden; padding:10px; width:300px; }
        div.details_song div.data_song dl dt { clear: left; float: left; width: 40px; }
        div.details_song div.data_song dl dd { float: left; width: 200px; font-weight:bold; font-style:italic;}


    </style>

    <!-- #playlist-list-item-template --> 

    <script type="text/template" id="pl_listItem_tpl">
      <div class="title">
        <h2><%= title %></h2>
        <p><%= description %></p>

        <ul class="actions">
          <li><a class="edit" href="#">Edit</a></li>
          <li><a class="delete" href="#">Delete</a></li>
        </ul>  
      </div>

      <ol class="tracks">
        <% _.each(tracks, function(track) { %>
          <li><a class="track" href="<%= track.url %>#<%= track.id %>"><strong><%= track.title %></strong> <em><%= track.user %></em></a></li>
        <% }); %>
      </ol>

    </script>

    <!-- #playlist-edit-template--> 

    <script type="text/template" id="pl_edit_tpl">
      <dl>
          <dt><label><strong>Title</strong> of the Playlist</label></dt>
          <dd><input name="title" size="60" value="<%= title %>" /></dd>

          <dt><label><strong>Description</strong> of the Playlist</label></dt>
          <dd><textarea name="description" cols="43" rows="4"><%= description %></textarea></dd>
      </dl>

      <a href="#" class="button save">Save</a>
      <a href="#" class="cancel">Cancel</a>

    </script>

    <!-- #playlist-new-template--> 

    <script type="text/template" id="pl_new_tpl">
      <a href="#" id="create_playlist" class="big button">Create a New Playlist</a>
    </script>

    <!-- #playlist-new-song--> 

    <script type="text/template" id="pl_newTrack_tpl">
      
        <a href="#" class="see_form">Add Track</a>
      
        <div class="add_track_container">
          <p>Please, insert the <strong>URL of the track</strong> <em>to check it in SoundCloud before adding it to playlist: <%= title %></em></p>
          <input name="url" size="60" /> 
          <p class="details"><a href="#" class="button">Get Details from SoundCloud</a></p>
          <div class="player_song"></div>
          <p class="add hidden"><a href="#" class="button">Add this track</a></p>
        </div> 

    </script>


    <!-- #playlist-new-song--> 

    <script type="text/template" id="pl_songDetails_tpl">
        <p>It Exists!!! ;-)</p>
        <p>These are the details of your track...</p>      
        <div class="data_song">
          <a class="play" href="#">Play</a>
          <dl>
            <dt>ID:</dt>
            <dd><%= id %></dd>
            <dt>Title:</dt>
            <dd><%= title %></dd>
            <dt>User:</dt>
            <dd><%= user.username %></dd>
            <dt>Created:</dt>
            <dd><%= created_at %></dd>
            
          </dl>
        </div>

    </script>

  </head>

  <body>

    <div id="page">

      <div id="header">
        <h1>SoundCloud PlayList Manager</h1>
      </div>

      <div id="container">
        

        <p>The <strong>SoundCloud PlayList Manager</strong> allows you to <em>create playlists of ANY tracks on SoundCloud</em>:</p>

        <ul>
          <li>A user can edit and delete the playlists.</li>
          <li>A user can play all the tracks in the playlist with one click or tap.</li>
          <li>A user can give a playlist a title and description.</li>
        </ul>

        <div id="list_playlists"></div>
        <div id="new_playlist"></div>

      </div>

    </div>

  </body>
</html>
